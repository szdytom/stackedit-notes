<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>省选模拟赛</title>
  <link rel="stylesheet" href="https://stackedit.cn/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html">
<table>
<thead>
<tr>
<th>题目名称</th>
<th>挑战NBT</th>
<th>精确图覆盖</th>
<th>天涯共此石</th>
</tr>
</thead>
<tbody>
<tr>
<td>题目类型</td>
<td>提交答案</td>
<td>传统题</td>
<td>交互题</td>
</tr>
<tr>
<td>目录</td>
<td><code>nbt</code></td>
<td><code>alliance</code></td>
<td><code>compass</code></td>
</tr>
<tr>
<td>输入文件名</td>
<td>不适用</td>
<td><code>alliance.in</code></td>
<td>不适用</td>
</tr>
<tr>
<td>输出文件名</td>
<td>不适用</td>
<td><code>alliance.out</code></td>
<td>不适用</td>
</tr>
<tr>
<td>时间限制</td>
<td>不适用</td>
<td>1.0 秒</td>
<td>4.0 秒</td>
</tr>
<tr>
<td>空间限制</td>
<td>不适用</td>
<td>256MiB</td>
<td>512MiB</td>
</tr>
<tr>
<td>特殊评判</td>
<td>有</td>
<td>有</td>
<td>有</td>
</tr>
<tr>
<td>捆绑测试</td>
<td>无</td>
<td>无</td>
<td>无</td>
</tr>
</tbody>
</table><h1 id="挑战nbt-nbt"><span class="prefix"></span><span class="content">挑战NBT (nbt)</span><span class="suffix"></span></h1>
<blockquote>
<p>在13w36a快照之后，<strong>NBT标签</strong>可以在 <code>/give</code> 和 <code>/summon</code> 等命令用作设定物品、生物和方块实体的高级数据。同时，它也可以给你的命令系统添加不少乐趣！</p>
</blockquote>
<h2 id="背景信息"><span class="prefix"></span><span class="content">背景信息</span><span class="suffix"></span></h2>
<p>下面介绍的是 <strong>SNBT</strong> 格式（<strong>字符串化的二进制命名标签</strong>，<strong>S</strong>tringified <strong>N</strong>amed <strong>B</strong>inary <strong>T</strong>ags），SNBT 格式的数据在本题中简称为 SNBT 数据。</p>
<p>SNBT格式是通过一个个<strong>标签</strong>来储存和读取数据的。一个标签由<strong>标签名称</strong>和<strong>数值</strong>两部分组成，两者用冒号 <code>:</code> 隔开。例如 <code>foo:1</code> 就是一个标签。</p>
<p>标签名两边称应该使用双引号包裹，内部可以填写字母、中文、空格或特殊符号等任意字符，也支持字符串转义。例如 <code>"foo bar"</code> 或 <code>"\"A cool name!!"</code> 都是合法的标签名。</p>
<p>标签名称如果仅出现字母 <code>a-z</code>,<code>A-Z</code>、数字 <code>0-9</code> 和下划线 <code>_</code>，而不出现空格、中文或是特殊符号，则其两边的双引号可以省略。标签名对大小写敏感，例如，<code>Tag:1</code>、<code>tag:1</code> 和 <code>TAG:1</code> 是三个不同的标签。<code>a_Tag_name</code> 是一个可以省略双引号的标签名称，而 <code>a tag name</code> 或 <code>tag&amp;com</code> 则不是。</p>
<p>一串标签应该被包裹在一对花括号 <code>{}</code> 中，并用逗号 <code>,</code> 分隔，才能被称之为 SNBT 数据。例如 <code>{foo:1,bar:2}</code>就是一串 SNBT 数据。</p>
<p>SNBT 可以储存多种多样类型的数据，例如整数、实数、字符串、甚至是另一串 SNBT 数据。不同的数据类型会有不同的表示数据的方法。这个表格列出了所有的数据类型：</p>

<table>
<thead>
<tr>
<th align="center">类型名</th>
<th align="center">对应 C++ 类型名</th>
<th align="center">描述</th>
<th align="center">格式</th>
<th align="center">样例</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">整型</td>
<td align="center"><code>int</code></td>
<td align="center">储存一个整数。数值范围为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>2147483648</mn></mrow><annotation encoding="application/x-tex">-2147483648</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span class="mord">−</span><span class="mord">2147483648</span></span></span></span></span> 到 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2147483647</mn></mrow><annotation encoding="application/x-tex">2147483647</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">2147483647</span></span></span></span></span>。</td>
<td align="center">无特殊格式，直接填写十进制数值。</td>
<td align="center"><code>tag:-123</code></td>
</tr>
<tr>
<td align="center">短整型</td>
<td align="center"><code>short</code></td>
<td align="center">储存一个绝对值较小的整数。数值范围为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>32768</mn></mrow><annotation encoding="application/x-tex">-32768</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span class="mord">−</span><span class="mord">32768</span></span></span></span></span> 到 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>32767</mn></mrow><annotation encoding="application/x-tex">32767</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">32767</span></span></span></span></span>。</td>
<td align="center">需要在数值后面加上一个字母 <code>s</code>。（不区分大小写）</td>
<td align="center"><code>lvl:734s</code></td>
</tr>
<tr>
<td align="center">字节型</td>
<td align="center"><code>signed char</code></td>
<td align="center">储存一个绝对值极小的整数。数值范围为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>128</mn></mrow><annotation encoding="application/x-tex">-128</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span class="mord">−</span><span class="mord">128</span></span></span></span></span>  到 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>127</mn></mrow><annotation encoding="application/x-tex">127</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">127</span></span></span></span></span>。也可以用于储存一个布尔型数据。</td>
<td align="center">需要在数值后面加上一个字母 <code>b</code>。（不区分大小写）</td>
<td align="center"><code>charged:1b</code></td>
</tr>
<tr>
<td align="center">长整型</td>
<td align="center"><code>long long</code></td>
<td align="center">储存一个绝对值极大的整数。数值范围为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><msup><mn>2</mn><mn>63</mn></msup></mrow><annotation encoding="application/x-tex">-2^{63}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8974em; vertical-align: -0.0833em;"></span><span class="mord">−</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">63</span></span></span></span></span></span></span></span></span></span></span></span></span> 到 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>63</mn></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^{63}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8974em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">63</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>。</td>
<td align="center">需要在数值后面加上一个字母 <code>L</code>。（不区分大小写）</td>
<td align="center"><code>length:0L</code></td>
</tr>
<tr>
<td align="center">单精度浮点数</td>
<td align="center"><code>float</code></td>
<td align="center">存储一个IEEE754标准中所述的32位单精度浮点数。</td>
<td align="center">需要在数值后面加上一个字母 <code>f</code>。（不区分大小写）</td>
<td align="center"><code>scale:0.8f</code></td>
</tr>
<tr>
<td align="center">双精度浮点数</td>
<td align="center"><code>double</code></td>
<td align="center">存储一个IEEE754标准中所述的64位双精度浮点数。</td>
<td align="center">需要在数值后面加上一个字母 <code>d</code>。（不区分大小写）</td>
<td align="center"><code>x:6.6d</code></td>
</tr>
<tr>
<td align="center">字符串</td>
<td align="center">不适用</td>
<td align="center">储存一段文字，大小上限为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>32767</mn></mrow><annotation encoding="application/x-tex">32767</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">32767</span></span></span></span></span> 字节。可以含有中文、空格和特殊字符。</td>
<td align="center">文字需要用双引号 <code>""</code> 或单引号 <code>''</code> 括起来。</td>
<td align="center"><code>hi:"你好！"</code></td>
</tr>
<tr>
<td align="center">复合标签</td>
<td align="center">不适用</td>
<td align="center">包含一段独立的 SNBT 标签。</td>
<td align="center">无特殊格式，直接填写 SNBT 数据。</td>
<td align="center"><code>pos:{x:5,y:6}</code></td>
</tr>
<tr>
<td align="center">列表</td>
<td align="center">不适用</td>
<td align="center">使同一个标签可以储存多个数据。<strong>每个数据的类型必须都相同</strong>。</td>
<td align="center">数据需要用方括号 <code>[]</code> 括起来，多个数据间用逗号隔开。</td>
<td align="center"><code>a:[1,2,3,4]</code></td>
</tr>
<tr>
<td align="center">整型数组</td>
<td align="center">不适用</td>
<td align="center">用于储存多个整型数据。</td>
<td align="center">需要用方括号括起来，并以 <code>I;</code> 开头，随后即为多个用逗号分隔的整型数据。</td>
<td align="center"><code>i:[I;1,2,3]</code></td>
</tr>
<tr>
<td align="center">字节型数组</td>
<td align="center">不适用</td>
<td align="center">用于储存多个字节型数据</td>
<td align="center">需要用方括号括起来，并以<code>B;</code>开头，随后即为多个用逗号分隔的字节型数据（需要带上<code>b</code>）。</td>
<td align="center"><code>b:[B;-1b,2b,3b]</code></td>
</tr>
<tr>
<td align="center">长整型数组</td>
<td align="center">不适用</td>
<td align="center">用于储存多个长整型数据</td>
<td align="center">需要用方括号括起来，并以<code>L;</code>开头，随后即为多个用逗号分隔的长整型数据（需要带上<code>L</code>）。</td>
<td align="center"><code>l:[L;-1L,2L,3L]</code></td>
</tr>
</tbody>
</table><p>整数的表示方法只允许十进制给出，注意可能包含一个 <code>-</code> 或 <code>+</code> 作为前缀表示数值的符号。浮点数的表示方法类似于C++语法，注意可能包含一个 <code>-</code> 或 <code>+</code> 作为前缀表示数值的符号，也可以使用科学计数法，且 <code>e</code> 不区分大小写。请注意以下特殊情况：</p>

<table>
<thead>
<tr>
<th align="center">写法</th>
<th align="center">值</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>.23f</code></td>
<td align="center"><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.23</mn></mrow><annotation encoding="application/x-tex">0.23</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.23</span></span></span></span></span></td>
</tr>
<tr>
<td align="center"><code>12.f</code></td>
<td align="center"><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>12</mn></mrow><annotation encoding="application/x-tex">12</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">12</span></span></span></span></span></td>
</tr>
<tr>
<td align="center"><code>+6.7f</code></td>
<td align="center"><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6.7</mn></mrow><annotation encoding="application/x-tex">6.7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">6.7</span></span></span></span></span></td>
</tr>
<tr>
<td align="center"><code>1.431e3f</code></td>
<td align="center"><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1431</mn></mrow><annotation encoding="application/x-tex">1431</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1431</span></span></span></span></span></td>
</tr>
<tr>
<td align="center"><code>1.431E+3f</code></td>
<td align="center"><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1431</mn></mrow><annotation encoding="application/x-tex">1431</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1431</span></span></span></span></span></td>
</tr>
<tr>
<td align="center"><code>53432e-7f</code></td>
<td align="center"><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.0053432</mn></mrow><annotation encoding="application/x-tex">0.0053432</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.0053432</span></span></span></span></span></td>
</tr>
</tbody>
</table><p>字符串转义方案如下表：</p>

<table>
<thead>
<tr>
<th align="center">转义记号</th>
<th align="center">转义值</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>\\</code></td>
<td align="center"><code>\</code></td>
<td align="center">无</td>
</tr>
<tr>
<td align="center"><code>\"</code></td>
<td align="center"><code>"</code></td>
<td align="center">只允许在双引号包裹的字符串中使用</td>
</tr>
<tr>
<td align="center"><code>\'</code></td>
<td align="center"><code>'</code></td>
<td align="center">只允许在单引号包裹的字符串中使用</td>
</tr>
</tbody>
</table><p>SNBT 数据中的控制符号 <code>:{}[],</code> 两侧可以包含任意数量和种类空白，类型列表的分号后可以包含任意数量和种类空白。下面是一些 SNBT 数据的例子：</p>

<table>
<thead>
<tr>
<th align="center">样例</th>
<th align="center">是否合法</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>{ }</code></td>
<td align="center">合法</td>
</tr>
<tr>
<td align="center"><code>{foo:1,bar: "hi"}</code></td>
<td align="center">合法</td>
</tr>
<tr>
<td align="center"><code>{0:0b}</code></td>
<td align="center">合法</td>
</tr>
<tr>
<td align="center"><code>{UUID: [B; 123b,234b, 231b,76b ] }</code></td>
<td align="center">合法</td>
</tr>
<tr>
<td align="center"><code>{parts: [{x:1,y:1}, {y: 'hello',x:32f}]}</code></td>
<td align="center">合法</td>
</tr>
<tr>
<td align="center"><code>{"消息": "你好！\";"}</code></td>
<td align="center">合法</td>
</tr>
<tr>
<td align="center"><code>{matrix: [[1,2], [3,4]]}</code></td>
<td align="center">合法</td>
</tr>
<tr>
<td align="center"><code>foo:4</code></td>
<td align="center">非法，缺少大括号</td>
</tr>
<tr>
<td align="center"><code>{23423}</code></td>
<td align="center">非法，缺少标签名</td>
</tr>
<tr>
<td align="center"><code>{!: 432.f}</code></td>
<td align="center">非法，标签名只能包含字母数字和下划线</td>
</tr>
<tr>
<td align="center"><code>{dwaaa"das"wr3q33"\\dw\\\d\wsaxxx..</code></td>
<td align="center">非法，格式错误</td>
</tr>
<tr>
<td align="center"><code>{id: [12,"hello"]}</code></td>
<td align="center">非法，列表的每个数据的类型必须都相同</td>
</tr>
<tr>
<td align="center"><code>{UUID: [B; 123,234,231,76] }</code></td>
<td align="center">非法，字节列表的元素必须是字节型</td>
</tr>
<tr>
<td align="center"><code>{ll:423.423L}</code></td>
<td align="center">非法，<code>423.423</code> 不是整数值</td>
</tr>
<tr>
<td align="center"><code>{v: 2147484644}</code></td>
<td align="center">非法，超出了整数类型的存储范围</td>
</tr>
<tr>
<td align="center"><code>{str: "hi'}</code></td>
<td align="center">非法，字符串格式错误</td>
</tr>
<tr>
<td align="center"><code>{str: "\z"}</code></td>
<td align="center">非法，不存在字符串转义 <code>\z</code></td>
</tr>
<tr>
<td align="center"><code>{'str': "a"}</code></td>
<td align="center">非法，标签名必须使用双引号</td>
</tr>
</tbody>
</table><p>虽然只有花括号包裹着的标签才被称为 SNBT 数据，但是广义上说，任何可以存储在 SNBT 中的值都可以被称为 SNBT 值，例如 <code>3b</code>，<code>2.3f</code> 或 <code>[1,2,3,4]</code>。</p>
<hr>
<p>下面介绍的是 <strong>NBT</strong> 格式（<strong>二进制命名标签</strong>，<strong>N</strong>amed <strong>B</strong>inary <strong>T</strong>ags）。它是 SNBT 的二进制化格式。NBT 格式以树形结构并配以许多标签的形式存储数据。所有的标签都有一个独立的类型和名称。</p>
<p>每个标签在数据树中都是独立的一部分。标签的第一个字节为标签类型（ID），后两个字节是名称的长度（以两个字节的大端序无符号整数记录），最后是 UTF-8 格式字符串存储的标签名称（注：TAG_End 类型没有名称，不包含第二部分的两个字节，故名称被定义为空）。根据标签类型的不同，名称部分后的部分就是标签的负载。</p>

<table>
<thead>
<tr>
<th align="center">类型</th>
<th align="center">类型 ID</th>
<th align="center">描述</th>
<th align="center">负载</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">TAG_<strong>End</strong></td>
<td align="center"><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span></td>
<td align="center">用于标记复合标签的结尾。本标签<strong>无任何名称</strong>所以只有一个值为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span> 的字节。</td>
<td align="center">无</td>
</tr>
<tr>
<td align="center">TAG_<strong>Byte</strong></td>
<td align="center"><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span></td>
<td align="center">有符号的整值数据类型，对应 SNBT 中的字节型。</td>
<td align="center"><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span> 字节 / <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn></mrow><annotation encoding="application/x-tex">8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8</span></span></span></span></span> 位，有符号</td>
</tr>
<tr>
<td align="center">TAG_<strong>Short</strong></td>
<td align="center"><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">2</span></span></span></span></span></td>
<td align="center">有符号的整值数据类型，对应 SNBT 中的短整型。</td>
<td align="center"><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">2</span></span></span></span></span> 字节 / <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>16</mn></mrow><annotation encoding="application/x-tex">16</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">16</span></span></span></span></span> 位，有符号，大端序</td>
</tr>
<tr>
<td align="center">TAG_<strong>Int</strong></td>
<td align="center"><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">3</span></span></span></span></span></td>
<td align="center">有符号的整值数据类型，对应 SNBT 中的整型。</td>
<td align="center"><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">4</span></span></span></span></span> 字节 / <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>32</mn></mrow><annotation encoding="application/x-tex">32</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">32</span></span></span></span></span> 位，有符号，大端序</td>
</tr>
<tr>
<td align="center">TAG_<strong>Long</strong></td>
<td align="center"><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">4</span></span></span></span></span></td>
<td align="center">有符号的整值数据类型，对应 SNBT 中的长整型。</td>
<td align="center"><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn></mrow><annotation encoding="application/x-tex">8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8</span></span></span></span></span> 字节 / <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>64</mn></mrow><annotation encoding="application/x-tex">64</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">64</span></span></span></span></span> 位，有符号，大端序</td>
</tr>
<tr>
<td align="center">TAG_<strong>Float</strong></td>
<td align="center"><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">5</span></span></span></span></span></td>
<td align="center">有符号的浮点数据类型，对应 SNBT 中的单精度浮点数。</td>
<td align="center"><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">4</span></span></span></span></span> 字节 / <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>32</mn></mrow><annotation encoding="application/x-tex">32</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">32</span></span></span></span></span> 位，有符号，大端序，IEEE754-2008 标准，binary32</td>
</tr>
<tr>
<td align="center">TAG_<strong>Double</strong></td>
<td align="center"><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn></mrow><annotation encoding="application/x-tex">6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">6</span></span></span></span></span></td>
<td align="center">有符号的浮点数据类型，对应 SNBT 中的双精度浮点数。</td>
<td align="center"><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn></mrow><annotation encoding="application/x-tex">8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8</span></span></span></span></span> 字节 / <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>64</mn></mrow><annotation encoding="application/x-tex">64</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">64</span></span></span></span></span> 位，有符号，大端序，IEEE754-2008 标准，binary64</td>
</tr>
<tr>
<td align="center">TAG_<strong>Byte</strong>_<strong>Array</strong></td>
<td align="center"><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7</mn></mrow><annotation encoding="application/x-tex">7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">7</span></span></span></span></span></td>
<td align="center">字节列表，储存多个字节型数据。</td>
<td align="center">首先是一个整数 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>（<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">4</span></span></span></span></span> 字节，大端序）表示列表长度，然后是 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> 个数据表示列表值（每个值 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span> 字节）。</td>
</tr>
<tr>
<td align="center">TAG_<strong>String</strong></td>
<td align="center"><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn></mrow><annotation encoding="application/x-tex">8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8</span></span></span></span></span></td>
<td align="center">存储一个字符串。</td>
<td align="center">首先是一个整数 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>（<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">2</span></span></span></span></span> 字节，大端序）表示字符串长度，然后以 UTF-8 格式存储的字符串，长度为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> 个字节。</td>
</tr>
<tr>
<td align="center">TAG_<strong>List</strong></td>
<td align="center"><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>9</mn></mrow><annotation encoding="application/x-tex">9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">9</span></span></span></span></span></td>
<td align="center">一个标签列表，其成员没有类型 ID 和标签名称。</td>
<td align="center">首先是一个整数表示成员标签类型 ID，然后是一个整数 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>（<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">4</span></span></span></span></span> 字节，大端序）表示列表长度，最后给出 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> 个成员的负载</td>
</tr>
<tr>
<td align="center">TAG_<strong>Compound</strong></td>
<td align="center"><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>10</mn></mrow><annotation encoding="application/x-tex">10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">10</span></span></span></span></span></td>
<td align="center">对应 SNBT 的复合标签，包含一系列完整的标签信息，包括ID、名称以及负载等。任意两个标签都不能有相同的名称。</td>
<td align="center">列出其成员的数据，然后是一个 TAG_End。</td>
</tr>
<tr>
<td align="center">TAG_<strong>Int</strong>_<strong>Array</strong></td>
<td align="center"><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>11</mn></mrow><annotation encoding="application/x-tex">11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">11</span></span></span></span></span></td>
<td align="center">整型列表，储存多个整型数据。</td>
<td align="center">首先是一个整数 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>（<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">4</span></span></span></span></span> 字节，大端序）表示列表长度，然后是 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> 个数据表示列表值（每个值 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">4</span></span></span></span></span> 字节，大端序）。</td>
</tr>
<tr>
<td align="center">TAG_<strong>Long</strong>_<strong>Array</strong></td>
<td align="center"><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>12</mn></mrow><annotation encoding="application/x-tex">12</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">12</span></span></span></span></span></td>
<td align="center">长整型列表，储存多个长整型数据。</td>
<td align="center">首先是一个整数 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>（<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">4</span></span></span></span></span> 字节，大端序）表示列表长度，然后是 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> 个数据表示列表值（每个值 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn></mrow><annotation encoding="application/x-tex">8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8</span></span></span></span></span> 字节，大端序）。</td>
</tr>
</tbody>
</table><p>复合标签的列表常以嵌套递归的方式出现。另外还需注意，在一个包含列表的列表中，每个列表可以包含不同类型的数据。</p>
<p>根标签的标签类型必须是 TAG_Compound，且名称必须是空字符串，也就是说，任何 NBT 数据一定以 <code>0a 00 00</code> 开头。容易发现，NBT 格式和 SNBT 格式是可以相互转化的。例如，下面 SNBT 数据</p>
<pre><code>{ab:[B;1,2,3,4],pos:{x:1,y:2},w:[1.d,2.d,4.3d],msg:"你好"}
</code></pre>
<p>的 NBT 格式数据由</p>
<pre><code>0a00 0007 0002 6162 0000 0004 0102 0304
0a00 0370 6f73 0300 0178 0000 0001 0300
0179 0000 0002 0008 0003 6d73 6700 06e4
bda0 e5a5 bd09 0001 7705 0000 0003 3f80
0000 4000 0000 4089 999a 00
</code></pre>
<p>给出。</p>
<hr>
<p>下面介绍的是 <strong>NBT路径</strong> 格式（<strong>NBT path</strong>）。它是是用来从 NBT 或 SNBT 格式的数据中指定一系列特定元素的描述性标签。路径的基本格式为若干个用点分隔的节点，即 <code>节点.…….节点</code>，其中每个 <code>节点</code> 声明了可以从先前标签中选择哪种类型的子元素。</p>
<p>NBT 路径中包含有 6 种可用的节点。</p>

<table>
<thead>
<tr>
<th align="center">类型名称</th>
<th align="center">格式</th>
<th align="center">描述</th>
<th align="center">选择结果</th>
<th align="center">样例</th>
<th align="center">样例解释</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">根复合标签</td>
<td align="center"><code>{tag}</code>，其中 <em>tag</em> 是复合NBT内容，可以为空。</td>
<td align="center">只有在开始标签匹配给定的复合标签（若有）则选择开始标签。只能应用于路径中的第一个元素。</td>
<td align="center">开始标签，或者匹配失败时无</td>
<td align="center"><code>{Invisible:1b}</code></td>
<td align="center">如果其子标签 <code>Invisible</code> 的值为 <code>1b</code> 则选择根标签。</td>
</tr>
<tr>
<td align="center">命名标签</td>
<td align="center"><code>name</code>，其中 <em>name</em> 可以是直接的或转义的字符串。</td>
<td align="center">选择上个标签中有叫做 <em>name</em> 的子标签。</td>
<td align="center">标签的集合；其中元素个数可能超过上个标签集合。可能为空。</td>
<td align="center"><code>"A cool name[]"</code></td>
<td align="center">选择 <code>A cool name[]</code> 子标签。</td>
</tr>
<tr>
<td align="center">命名复合标签</td>
<td align="center"><code>name{tag}</code>，其中 <em>name</em> 可以是直接的或转义的字符串，<em>tag</em> 是复合标签内容且可以为空。</td>
<td align="center">选择匹配给定的且上个标签中命名为 <em>name</em> 复合标签（如有）的子复合标签。</td>
<td align="center">复合标签集合；其中元素个数不超过上个标签集合。可能为空。</td>
<td align="center"><code>Villager{profession: "nitwit"}</code></td>
<td align="center">如果 <code>Villager</code> 有子标签 <code>profession</code> 且值为字符串 <code>nitwit</code> 则选择 <code>Villager</code> 标签，否则为空</td>
</tr>
<tr>
<td align="center">命名列表或数组标签的元素</td>
<td align="center"><code>name[index]</code>，其中 <em>name</em> 可以是直接的或转义的字符串，<em>index</em> 是整数。</td>
<td align="center">选择上个标签中命名为 <em>name</em> 的列表（或数组）中位于 <em>index</em> 处的值，从 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span> 开始编号（如果 <em>index</em> 是负数，则是位于 <code>(列表长度+_index_)</code> 处）的元素。</td>
<td align="center">标签集合；其中元素个数不超过上个标签集合。可能为空。</td>
<td align="center"><code>Pos[0]</code></td>
<td align="center">选择Pos子列表（或数组）中的第一个子标签。</td>
</tr>
<tr>
<td align="center">命名列表或数组标签的所有元素</td>
<td align="center"><code>name[]</code> 其中 <em>name</em> 可以是直接的或转义的字符串</td>
<td align="center">选择上个标签中命名为 <em>name</em> 的子列表（或数组）中的所有元素。</td>
<td align="center">标签集合，其中元素个数可能超过上个标签集合，可能为空。</td>
<td align="center"><code>parts[]</code></td>
<td align="center">选择 <code>parts</code> 中的所有元素</td>
</tr>
<tr>
<td align="center">命名列表标签的复合元素</td>
<td align="center"><code>name[{tag}]</code>，其中 <em>name</em> 可以是直接的或转义的字符串，<em>tag</em> 是复合标签内容且可以为空。</td>
<td align="center">选择上个标签中匹配给定的（如有）和列表中命名为 <em>name</em> 的复合标签的复合元素。</td>
<td align="center">复合标签集合；其中元素个数可能超过上个标签集合，可能为空。</td>
<td align="center"><code>Inv[{cnt:25b}]</code></td>
<td align="center">选择拥有 <code>Cnt</code> 子标签且其值为 <code>25</code> 的 <code>Inv</code> 标签中的元素。</td>
</tr>
<tr>
<td align="center">命名列表标签的子列表（或数组）的元素</td>
<td align="center"><code>name[index或空][index或空][index或空]...[index或tag或空]</code>，其中 <em>name</em> 可以是直接的或转义的字符串，<em>index</em> 是整数，<em>tag</em> 是复合标签内容且可以为空。</td>
<td align="center">选择上个标签中命名为_name_的列表中的子元素的子元素。</td>
<td align="center">标签集合；其中元素个数可能超过上个标签集合，可能为空。</td>
<td align="center"><code>foo[][2][{}]</code></td>
<td align="center">选择 <code>foo</code> 标签中子列表的第三个中的是复合标签的所有元素。</td>
</tr>
</tbody>
</table><p>路径中的 <code>.</code>（点）字符将节点分隔开来。节点可以是混合的或匹配的，但带有对象的根节点（如有）必须是路径中首先出现的。</p>
<p>假设我们现在对以下 SNBT 数据进行操作：</p>
<pre><code>{x:5,"foo bar":54b,a:[1,2,3,4],b:{y:3.f,q:[{pos:{x:1,y:1}},{pos:{x:2,y:1}}]},mat:[[{},{},{x:2},{}],[{},{},{x:{y:5}},{}],[1,2,3,4]]}
</code></pre>
<p>下面是一些 NBT 路径的例子：</p>

<table>
<thead>
<tr>
<th align="center">样例</th>
<th align="center">选择结果</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>al</code></td>
<td align="center"><em>空</em></td>
</tr>
<tr>
<td align="center"><code>x</code></td>
<td align="center"><code>5</code></td>
</tr>
<tr>
<td align="center"><code>{}</code></td>
<td align="center"><code>{x:5,"foo bar":54b,a:[1,2,3,4],b:{y:3.f,q:[{pos:{x:1,y:1}},{pos:{x:2,y:1}}]},mat:[[{},{},{x:2},{}],[{},{},{x:{y:5}},{}],[1,2,3,4]]}</code></td>
</tr>
<tr>
<td align="center"><code>{x: 3b}</code></td>
<td align="center"><em>空</em></td>
</tr>
<tr>
<td align="center"><code>"foo bar"</code></td>
<td align="center"><code>54b</code></td>
</tr>
<tr>
<td align="center"><code>a[0]</code></td>
<td align="center"><code>1</code></td>
</tr>
<tr>
<td align="center"><code>a[-2]</code></td>
<td align="center"><code>3</code></td>
</tr>
<tr>
<td align="center"><code>b.y</code></td>
<td align="center"><code>3f</code></td>
</tr>
<tr>
<td align="center"><code>b.q[].pos{x:1}</code></td>
<td align="center"><code>{x:1,y:1}</code></td>
</tr>
<tr>
<td align="center"><code>mat[][2][{}].x{}</code></td>
<td align="center"><code>{y:5}</code></td>
</tr>
</tbody>
</table><h2 id="题目描述"><span class="prefix"></span><span class="content">题目描述</span><span class="suffix"></span></h2>
<p><strong>这是一道提交答案题</strong>。</p>
<p>现在你想对你的存档进行一些魔改，这意味着你要处理一些 NBT 数据。具体而言，你打算进行 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span></span> 次操作，每次操作你会首先给出一个 NBT 路径，以选择操作位置，然后进行以下操作中的一种：</p>
<ol>
<li>询问操作位置的值，以 SNBT 格式输出；</li>
<li>给出一段 SNBT 数据或值，将操作位置的值修改为给出的 SNBT 数据；</li>
<li>给出一段 SNBT 数据或值，将这段数据添加到操作位置的列表的后面；</li>
<li>给出一段 SNBT 数据或值，将这段数据添加到操作位置的列表的前面；</li>
<li>给出一段 SNBT 数据或值，以及一个下标 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span></span>，将这段数据插入到操作位置的列表第 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span></span> 个位置；</li>
<li>删除操作位置的值。</li>
</ol>
<p>但是由于现在已经很晚了，所以给出的操作中可能会有一些错误，这包括：</p>
<ul>
<li>执行操作 1 时，NBT 路径选择的位置有多个或为空；</li>
<li>操作 2-5 给出的 SNBT 数据或值格式不合法；</li>
<li>执行操作 2 时，指定位置的父亲节点为空；</li>
<li>执行操作 2 时，指定位置为根节点，且给出的不是 SNBT 数据；</li>
<li>执行操作 3-5 时，给出的 SNBT 数据或值的类型不合法；</li>
<li>执行操作 5 时，给出的下标超出了列表范围；</li>
<li>执行操作 6 时，指定位置为空。</li>
</ul>
<p>对此，你决定如果一条操作不合法，就跳过它。</p>
<h2 id="输入格式"><span class="prefix"></span><span class="content">输入格式</span><span class="suffix"></span></h2>
<p>本题共有 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>50</mn></mrow><annotation encoding="application/x-tex">50</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">50</span></span></span></span></span> 组测试数据，下发文件中已经包括了本题所需要的所有输入文件。具体而言，这包括</p>
<ul>
<li><code>inputXX.dat</code>：其中 <em>XX</em> 为一个 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span> 到 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>50</mn></mrow><annotation encoding="application/x-tex">50</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">50</span></span></span></span></span> 中的整数，表示该组测试数据你需要处理的 NBT 数据的初始值，以 NBT 格式给出；</li>
<li><code>operationXX.txt</code>：其中 <em>XX</em> 为一个 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span> 到 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>50</mn></mrow><annotation encoding="application/x-tex">50</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">50</span></span></span></span></span> 中的整数，表示该组测试数据你需要处理操作。</li>
</ul>
<p><code>operation.txt</code> 中，第一行包含一个整数 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span></span>，表示操作次数。随后是 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span></span> 次操作。</p>
<p>对于一次操作，首先是一行一个整数 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span style="margin-right: 0.0315em;" class="mord mathnormal">k</span></span></span></span></span>（<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>k</mi><mo>≤</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">1\le k\le 6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7804em; vertical-align: -0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.8304em; vertical-align: -0.136em;"></span><span style="margin-right: 0.0315em;" class="mord mathnormal">k</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">6</span></span></span></span></span>），表示操作类型。第二行给出一个 NBT路径选择操作位置。对于操作 2-5，在第三行给出一段 SNBT 数据或值，对于操作 5，在第四行给出一个整数 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span></span>（<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>≤</mo><mi>i</mi><mo>≤</mo><msup><mn>2</mn><mn>31</mn></msup><mo>−</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">0\le i\le 2^{31}-9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7804em; vertical-align: -0.136em;"></span><span class="mord">0</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7955em; vertical-align: -0.136em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.8974em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">31</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">9</span></span></span></span></span>），表示插入位置。</p>
<h2 id="输出格式"><span class="prefix"></span><span class="content">输出格式</span><span class="suffix"></span></h2>
<p>你需要处理出</p>
<ul>
<li><code>replyXX.txt</code>：其中 <em>XX</em> 为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span> 到 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>50</mn></mrow><annotation encoding="application/x-tex">50</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">50</span></span></span></span></span> 中的整数，表示操作 1 的结果，以 SNBT 格式给出，一个一行；</li>
<li><code>resultXX.dat</code>：其中 <em>XX</em> 为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span> 到 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>50</mn></mrow><annotation encoding="application/x-tex">50</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">50</span></span></span></span></span> 中的整数，表示全部操作进行完毕之后的结果，以 NBT 格式给出。</li>
</ul>
<p>并且将这些文件添加到一个 <code>zip</code> 格式的压缩文件中提交。</p>
<h2 id="评分方式"><span class="prefix"></span><span class="content">评分方式</span><span class="suffix"></span></h2>
<p>本题有特殊评判程序（SPJ），如果你输出的 NBT 和 SNBT 数据或值均和答案的数据或值等价，则被认为是正确答案。</p>
<p>具体而言，这包含几个方面：</p>
<ul>
<li>标签顺序：标签可以按照任意顺序给出，例如 <code>{a:1,b:2}</code> 和 <code>{b:2,a:1}</code> 等价；</li>
<li>浮点精度：浮点数只要和标准答案的相对误差在 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mrow><mo>−</mo><mn>14</mn></mrow></msup></mrow><annotation encoding="application/x-tex">10^{-14}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">14</span></span></span></span></span></span></span></span></span></span></span></span></span> 以内即被认为正确；</li>
<li>字符串：字符串的分隔符可以是 <code>"</code> 或 <code>'</code>。</li>
</ul>
<h2 id="样例"><span class="prefix"></span><span class="content">样例</span><span class="suffix"></span></h2>
<h3 id="样例输入"><span class="prefix"></span><span class="content">样例输入</span><span class="suffix"></span></h3>
<p><code>input30.dat</code>（用十六进制写出，实际上应该是二进制数据）：</p>
<pre><code>0a00 0007 0002 6162 0000 0004 0102 0304
0a00 0370 6f73 0300 0178 0000 0001 0300
0179 0000 0002 0008 0003 6d73 6700 06e4
bda0 e5a5 bd09 0001 7705 0000 0003 3f80
0000 4000 0000 4089 999a 0100 0766 6f6f
2062 6172 360a 0001 6205 0001 7940 4ccc
cd09 0001 710a 0000 0002 0300 0178 0000
0001 0300 0179 0000 0002 0003 0001 7800
0000 0003 0001 7900 0000 0400 0900 036d
6174 0900 0000 0203 0000 0002 0000 0001
0000 0002 0300 0000 0200 0000 0300 0000
0400 00
</code></pre>
<p><code>operation30.txt</code>：</p>
<pre><code>7
1
{"foo bar":54}
1
msg
2
a.b.c.d
1b
2
b.q[].pos{x:1}.y
{a: .6f, b: "hi"}
6
b.mat[0][1]
4
b.mat[0]
54
2
pos.z
45L
</code></pre>
<h3 id="样例输出"><span class="prefix"></span><span class="content">样例输出</span><span class="suffix"></span></h3>
<p><code>reply30.txt</code>：</p>
<pre><code>{pos:{x:1,y:2},w:[1f,2f,4.3f],"foo bar":54b,msg:"你好",ab:[B;1,2,3,4],b:{mat:[[1,2],[3,4]],y:3.2f,q:[{pos:{x:1,y:2},{pos:{x:0,y:4}}]}}
"你好"
</code></pre>
<p><code>result30.dat</code>（用十六进制写出，实际上应该是二进制数据）：</p>
<pre><code>0a00 0007 0002 6162 0000 0004 0102 0304
0a00 0370 6f73 0300 0178 0000 0001 0300
0179 0000 0002 0400 017a 0000 0000 0000
002d 0008 0003 6d73 6700 06e4 bda0 e5a5
bd09 0001 7705 0000 0003 3f80 0000 4000
0000 4089 999a 0100 0766 6f6f 2062 6172
360a 0001 6205 0001 7940 4ccc cd09 0001
710a 0000 0002 0300 0178 0000 0001 0a00
0179 0500 0161 3f19 999a 0800 0162 0002
6869 0000 0300 0178 0000 0000 0300 0179
0000 0004 0009 0003 6d61 7409 0000 0002
0300 0000 0200 0000 3600 0000 0103 0000
0002 0000 0003 0000 0004 0000 
</code></pre>
<h2 id="约束与特殊性质"><span class="prefix"></span><span class="content">约束与特殊性质</span><span class="suffix"></span></h2>
<p>对于所有测试数据，保证：</p>
<ul>
<li>保证给出的 <code>inputXX.dat</code> 格式正确；</li>
<li>字符串中不包含换行符 <code>\n</code> 和回车符 <code>\r</code>；</li>
<li>列表长度不超过 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2147483639</mn></mrow><annotation encoding="application/x-tex">2147483639</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">2147483639</span></span></span></span></span>；</li>
<li>字符串长度不超过 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>32767</mn></mrow><annotation encoding="application/x-tex">32767</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">32767</span></span></span></span></span>，字节数不超过 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>65535</mn></mrow><annotation encoding="application/x-tex">65535</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">65535</span></span></span></span></span>；</li>
<li>列表与复合标签的嵌套深度不超过 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>512</mn></mrow><annotation encoding="application/x-tex">512</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">512</span></span></span></span></span>；</li>
<li>操作次数不超过 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>200</mn></mrow><annotation encoding="application/x-tex">200</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">200</span></span></span></span></span> 次；</li>
<li>输入文件 <code>inputXX.dat</code> 和最终正确答案 <code>resultXX.dat</code> 均不超过 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">2</span></span></span></span></span> MiB。</li>
</ul>
<p>各组测试数据具有以下特殊性质：</p>

<table>
<thead>
<tr>
<th align="center">数据点编号</th>
<th align="left">满足的特殊性质</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">1</td>
<td align="left">ABCIJ</td>
</tr>
<tr>
<td align="center">2</td>
<td align="left">ABI</td>
</tr>
<tr>
<td align="center">3</td>
<td align="left">ACDI</td>
</tr>
<tr>
<td align="center">4</td>
<td align="left">ADI</td>
</tr>
<tr>
<td align="center">5</td>
<td align="left">CDFGHI</td>
</tr>
<tr>
<td align="center">6</td>
<td align="left">CDFGHI</td>
</tr>
<tr>
<td align="center">7-8</td>
<td align="left">CDFI</td>
</tr>
<tr>
<td align="center">9-10</td>
<td align="left">DFI</td>
</tr>
<tr>
<td align="center">11-14</td>
<td align="left">CDI</td>
</tr>
<tr>
<td align="center">15-18</td>
<td align="left">DI</td>
</tr>
<tr>
<td align="center">19-20</td>
<td align="left">DEI</td>
</tr>
<tr>
<td align="center">21-24</td>
<td align="left">DHI</td>
</tr>
<tr>
<td align="center">25-29</td>
<td align="left">I</td>
</tr>
<tr>
<td align="center">30</td>
<td align="left">K</td>
</tr>
<tr>
<td align="center">31-50</td>
<td align="left">无</td>
</tr>
</tbody>
</table><p>特殊性质：</p>
<ul>
<li>A：保证第一次操作为操作 2，且选择的位置为根节点；</li>
<li>B：保证最后一次操作为操作 2，选择的位置为根节点，且给出的 SNBT 数据为 <code>{}</code>；</li>
<li>C：保证不存在不合法的操作；</li>
<li>D：保证不存在字符串类型，所有标签名均可以省略双引号；</li>
<li>E：列表与复合标签不存在二级嵌套；</li>
<li>F：保证不存在操作 2-5；</li>
<li>G：保证不存在操作 1；</li>
<li>H：保证不存在浮点数类型；</li>
<li>I：保证不存在空列表；</li>
<li>J：所有标签名均省略双引号；</li>
<li>K：是样例。</li>
</ul>
<h2 id="提示"><span class="prefix"></span><span class="content">提示</span><span class="suffix"></span></h2>
<p>本文中所提到的标点符号均为<strong>半角符号</strong>，即<strong>英文输入法</strong>输入的符号。他们要比中文输入法输入的<strong>全角符号</strong>更窄更小。</p>
<h1 id="精确图覆盖-alliance"><span class="prefix"></span><span class="content">精确图覆盖 (alliance)</span><span class="suffix"></span></h1>
<h2 id="题目描述-1"><span class="prefix"></span><span class="content">题目描述</span><span class="suffix"></span></h2>
<p>现在有 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> 个人要较量他们的建筑水平，为此他们决定进行若干场比赛。考虑到合作能力也是水平的重要因素，每场比赛会选择若干个人参赛，参赛者会被分入两支队伍，这两支队伍中的人互为对手。为了充分比较出水平的高低，每一对人都恰好在一场比赛中互为对手。</p>
<p>现在请你安排这 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> 个人的比赛方案，使得总共比赛的场数尽量少。如有多种安排方式，给出任意一种即可。</p>
<h2 id="约束"><span class="prefix"></span><span class="content">约束</span><span class="suffix"></span></h2>
<ul>
<li>对于 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>30</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">30\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8056em; vertical-align: -0.0556em;"></span><span class="mord">30%</span></span></span></span></span> 的测试数据，<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">1\le n\le9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7804em; vertical-align: -0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7719em; vertical-align: -0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">9</span></span></span></span></span>；</li>
<li>对于另外 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>30</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">30\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8056em; vertical-align: -0.0556em;"></span><span class="mord">30%</span></span></span></span></span> 的测试数据，<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>20</mn></mrow><annotation encoding="application/x-tex">1\le n\le20</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7804em; vertical-align: -0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7719em; vertical-align: -0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">20</span></span></span></span></span>；</li>
<li>对于全部测试数据，<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>2000</mn></mrow><annotation encoding="application/x-tex">1\le n\le2000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7804em; vertical-align: -0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7719em; vertical-align: -0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">2000</span></span></span></span></span>。</li>
</ul>
<h2 id="输入格式-1"><span class="prefix"></span><span class="content">输入格式</span><span class="suffix"></span></h2>
<p>一行一个整数 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>，表示人数。</p>
<h2 id="输出格式-1"><span class="prefix"></span><span class="content">输出格式</span><span class="suffix"></span></h2>
<p>首先一行一个整数，表示需要进行的场数 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span></span>。</p>
<p>随后是 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span></span> 行，每行首先是两个整数 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a,b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal">b</span></span></span></span></span>，表示该场比赛中两支队伍分为有多少人，随后输出 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span></span> 整数表示第一队成员的编号（从 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span> 到 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>），以及 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span></span> 整数表示第二队成员的编号。</p>
<h2 id="样例-1"><span class="prefix"></span><span class="content">样例</span><span class="suffix"></span></h2>
<p><strong>输入样例</strong>：</p>
<pre><code>3
</code></pre>
<p><strong>输出样例</strong>：</p>
<pre><code>2
1 2 1 2 3
1 1 2 3
</code></pre>
<h2 id="评分方式-1"><span class="prefix"></span><span class="content">评分方式</span><span class="suffix"></span></h2>
<p>如果你输出的场数 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span></span> 正确，但是方案错误，可以得到该组数据的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>40</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">40\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8056em; vertical-align: -0.0556em;"></span><span class="mord">40%</span></span></span></span></span> 的分数。</p>
<h1 id="天涯共此石-compass"><span class="prefix"></span><span class="content">天涯共此石 (compass)</span><span class="suffix"></span></h1>
<blockquote>
<p>下次你启程跨越下界的时候，记得在传送门旁边放个磁石并绑定指南针，这样之后就可以找到回家的路了。</p>
</blockquote>
<h2 id="题目描述-2"><span class="prefix"></span><span class="content">题目描述</span><span class="suffix"></span></h2>
<p><strong>这是一道交互题</strong>。</p>
<p>你本来是要去下界堡垒参加猪灵的黄金派对的，但很不幸的是，你迷路了。你现在既不知道自己在哪，也不自己要去的下界堡垒在哪。</p>
<p>下界的地形构成了一棵由 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> 个点组成的树（树上的点编号为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span> 到 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>）的结构，你现在的位置在点 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span></span>，你想去的地方为点 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span></span>。你已经知道了树的结构，但是不知道 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a,b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal">b</span></span></span></span></span> 的值。好消息是，你的猪灵朋友将会帮助你找出它们。</p>
<p>首先，你的猪灵朋友会告诉你 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a,b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal">b</span></span></span></span></span> 之间的路径上的一个点 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span></span>。然后你可以进行若干次操作，具体而言，你可以要求他把磁石移动到点 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span></span>，然后你通过观察指南针，就可以知道</p>
<ul>
<li>如果把点 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span></span> 看做树的根，那么 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a,b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal">b</span></span></span></span></span> 在树上的最近公共祖先是哪个点。</li>
</ul>
<p>但是，你的猪灵朋友在告诉你 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span></span> 之前，想要先知道根据该树形态和你的策略，最坏情况下至少需要搬动磁石的次数 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">e</span></span></span></span></span>。当然，在你告诉他 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">e</span></span></span></span></span> 之后，他就只允许你进行 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">e</span></span></span></span></span> 次操作了。</p>
<h2 id="交互方式"><span class="prefix"></span><span class="content">交互方式</span><span class="suffix"></span></h2>
<p>你不需要，也不应该实现主函数，你只需要实现函数 <code>void solve(int n, const std::vector&lt;std::pair&lt;int, int&gt;&gt; &amp;E)</code>，这里的 <code>n</code> 表示树所包含的点数，<code>E</code> 给出了树上有连边的点对，保证 <code>E</code> 的长度为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6667em; vertical-align: -0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>。你可以通过调用如下三个函数来和交互库进行交互：</p>
<ul>
<li><code>int set_limit(int e)</code>：回答最坏情况下至少需要搬动磁石的次数 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">e</span></span></span></span></span>，这个函数必须在其他函数之前调用，并且被调用恰好一次。这个函数返回 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a,b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal">b</span></span></span></span></span> 之间的路径上的一个点 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span></span>；</li>
<li><code>int query(int u)</code>：要求猪灵朋友把磁石移动到点 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span></span>，返回在树上把点 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span></span> 看做树的根时，<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a,b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal">b</span></span></span></span></span> 在树上的最近公共祖先；</li>
<li><code>void answer(int a, int b)</code>：回答你的位置和下界堡垒的位置 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a,b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal">b</span></span></span></span></span>，这个函数必须被最后调用，且被调用恰好一次。</li>
</ul>
<h2 id="约束-1"><span class="prefix"></span><span class="content">约束</span><span class="suffix"></span></h2>
<ul>
<li>对于 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>20</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">20\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8056em; vertical-align: -0.0556em;"></span><span class="mord">20%</span></span></span></span></span> 的数据，有 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">1\le n\le 5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7804em; vertical-align: -0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7719em; vertical-align: -0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">5</span></span></span></span></span>；</li>
<li>对于另外 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>50</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">50\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8056em; vertical-align: -0.0556em;"></span><span class="mord">50%</span></span></span></span></span> 的数据，有 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>2000</mn></mrow><annotation encoding="application/x-tex">1\le n\le 2000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7804em; vertical-align: -0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7719em; vertical-align: -0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">2000</span></span></span></span></span>；</li>
<li>对于全部数据，有 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">1\le n\le10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7804em; vertical-align: -0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7719em; vertical-align: -0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span></span>。</li>
</ul>
<p>题目保证：</p>
<ul>
<li>一定有 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>≤</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a\le b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7719em; vertical-align: -0.136em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span></span>；</li>
<li>给出的边一定构成一颗树；</li>
<li>评测时，交互库会恰好调用 <code>solve</code> 一次；</li>
<li>本题保证所选定的点 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a,b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal">b</span></span></span></span></span> 在交互开始之前已经完全确定，不会根据和你的程序的交互过程动态构造，因此题目中的交互操作都是确定性的，你不需要关心这些操作在交互库中的具体实现；</li>
<li>在保证询问次数不超过 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> 的前提下，交互库所使用的的时间不超过 2 秒，空间不超过 128MiB，也就是说你至少有 2 秒时间和 384MiB 空间可以使用。</li>
</ul>
<p>你要保证：</p>
<ul>
<li>在调用 <code>set_limit</code> 函数之前不会调用 <code>query</code> 或 <code>answer</code> 函数，且传入的参数 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">e</span></span></span></span></span> 满足 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>≤</mo><mi>e</mi><mo>≤</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">0\le e\le n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7804em; vertical-align: -0.136em;"></span><span class="mord">0</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7719em; vertical-align: -0.136em;"></span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>；</li>
<li>调用 <code>query</code> 函数的次数不超过你在调用 <code>set_limit</code> 函数时传入的参数 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">e</span></span></span></span></span>，且传入的参数 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span></span> 满足 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>u</mi><mo>≤</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">1\le u\le n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7804em; vertical-align: -0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7719em; vertical-align: -0.136em;"></span><span class="mord mathnormal">u</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>；</li>
<li>调用 <code>answer</code> 之后从 <code>solve</code> 函数中立即返回。</li>
</ul>
<h2 id="评分标准"><span class="prefix"></span><span class="content">评分标准</span><span class="suffix"></span></h2>
<p>在答案正确的前提下，若按照你的策略，最坏情况下至少需要搬动磁石的次数为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">e</span></span></span></span></span>。按照最优策略，最坏情况下至少需要搬动磁石的次数为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>e</mi><mo lspace="0em" rspace="0em" mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">e'</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7519em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span>。令 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>=</mo><mo stretchy="false">(</mo><mi>e</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><msup><mi>e</mi><mo lspace="0em" rspace="0em" mathvariant="normal">′</mo></msup><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\alpha=(e+1)/(e'+1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span style="margin-right: 0.0037em;" class="mord mathnormal">α</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1.0019em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord">/</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>，那么：</p>
<ul>
<li>若 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>&lt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\alpha&lt;1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.5782em; vertical-align: -0.0391em;"></span><span style="margin-right: 0.0037em;" class="mord mathnormal">α</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>，得 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">0\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8056em; vertical-align: -0.0556em;"></span><span class="mord">0%</span></span></span></span></span> 的分数；</li>
<li>若 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\alpha=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span style="margin-right: 0.0037em;" class="mord mathnormal">α</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>，得 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>100</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">100\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8056em; vertical-align: -0.0556em;"></span><span class="mord">100%</span></span></span></span></span> 的分数；</li>
<li>若 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>&lt;</mo><mi>α</mi><mo>&lt;</mo><mn>1.1</mn></mrow><annotation encoding="application/x-tex">1&lt;\alpha&lt;1.1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6835em; vertical-align: -0.0391em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.5782em; vertical-align: -0.0391em;"></span><span style="margin-right: 0.0037em;" class="mord mathnormal">α</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1.1</span></span></span></span></span>，得 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>20</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">20\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8056em; vertical-align: -0.0556em;"></span><span class="mord">20%</span></span></span></span></span> 的分数；</li>
<li>若 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>&gt;</mo><mn>1.1</mn></mrow><annotation encoding="application/x-tex">\alpha&gt;1.1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.5782em; vertical-align: -0.0391em;"></span><span style="margin-right: 0.0037em;" class="mord mathnormal">α</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1.1</span></span></span></span></span>，得 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>10</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">10\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8056em; vertical-align: -0.0556em;"></span><span class="mord">10%</span></span></span></span></span> 的分数。</li>
</ul>
<h2 id="实现细节"><span class="prefix"></span><span class="content">实现细节</span><span class="suffix"></span></h2>
<p>下发文件已经提供了一个 <code>sample.cpp</code>，你可以将这个文件拷贝一份，重命名为 <code>compass.cpp</code>，然后在其基础上答题。</p>
<p>请确保你的程序开头包含：</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"compass.h"</span></span>
</code></pre>
<p>试题目录下的 <code>grader.cpp</code> 以及 <code>compass.h</code> 是我们提供的交互库参考实现，最终测试时所用的交互库实现与该参考实现有所不同，因此选手的解法不应该依赖交互库实现。</p>
<p>你需要在本题目录下使用如下命令编译得到可执行程序：</p>
<pre><code>g++ grader.cpp compass.cpp -o compass -O2 -std=c++14
</code></pre>
<p>对于编译得到的可执行程序，可执行文件将从标准输入读入以下格式的数据：</p>
<p>第一行一个整数 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>，然后 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6667em; vertical-align: -0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span> 行描述树的结构。最后一行三个数 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi></mrow><annotation encoding="application/x-tex">a,b,c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal">c</span></span></span></span></span>。读入完成之后，交互库将调用恰好一次函数 <code>solve</code>，用输入的数据测试你的函数。你的函数正确返回后，交互库会判断你的计算是否正确，若正确则会输出 <code>OK.</code> 和交互函数调用次数相关信息，否则会输出相应的错误信息。</p>
<h2 id="提示-1"><span class="prefix"></span><span class="content">提示</span><span class="suffix"></span></h2>
<p>不保证 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>≠</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a\not=b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span></span><span class="base"><span class="strut" style="height: 0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span></span>，或 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo mathvariant="normal">≠</mo><mi>c</mi><mo separator="true">,</mo><mi>b</mi><mo mathvariant="normal">≠</mo><mi>c</mi></mrow><annotation encoding="application/x-tex">a\neq c,b\neq c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span></span>。</p>
</div>
</body>

</html>
